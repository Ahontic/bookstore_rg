%main.container
  %h1.general-title-margin Settings
  %ul.nav.clearfix.mb-20{role: "tablist"}
    %li.tab-item.active{role: "presentation"}
      %a.tab-link{href: "#address", 'aria-controls': "address", role: "tab", 'data-toggle': "tab"} Address
    %li.tab-item{role: "presentation"}
      %a.tab-link{href: "#privacy", 'aria-controls': "privacy", role: "tab", 'data-toggle': "tab"} Privacy
  .tab-content
    .general-main-wrap
  = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
    = render "devise/shared/error_messages", resource: resource
    #privacy.tab-pane.fade{role: "tabpanel"}
    .row.mb-60
      .col-sm-5
        %p.in-gold-500.font-18.mb-25 Email
        %form.general-form-md
          .form-group.mb-35
            %label.control-label.input-label Enter Email
            = f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control'
            - if devise_mapping.confirmable? && resource.pending_reconfirmation?
              %div
                Currently waiting confirmation for: #{resource.unconfirmed_email}
          .form-group.mb-30
            %label.control-label.input-label Old Password
            = f.password_field :current_password, autocomplete: "current-password", placeholder: "Old Password", class: 'form-control'
          .general-text-align
            = f.submit "Save", class: 'btn btn-default.mb-10'
      = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
        = render "devise/shared/error_messages", resource: resource
        .col-sm-5.col-sm-offset-1
          %p.in-gold-500.font-18.mb-25 Password
          %form.general-form-md.divider-lg-bottom.pb-25
            .form-group.mb-30
              %label.control-label.input-label Old Password
              = f.password_field :current_password, autocomplete: "current-password", placeholder: "Old Password", class: 'form-control'
            .form-group.mb-30
              %label.control-label.input-label New Password
              = f.password_field :password, autocomplete: "new-password", placeholder: "New Password", class: 'form-control'
              - if @minimum_password_length
                %br/
                %em
                  = @minimum_password_length
                  characters minimum
            .form-group.mb-40
              %label.control-label.input-label Confirm Password
              = f.password_field :password_confirmation, autocomplete: "new-password", placeholder: "Confirm Password", class: 'form-control'
            .general-text-align
              = f.submit "Save", class: 'btn btn-default.mb-10'
        .col-sm-12
          %p.in-gold-500.font-18.mb-25 Remove Account
          %form
            .general-settings-btn
              = link_to '', customer_registration_path, method: :delete, class: 'hidden', id: "customer_#{@customer.id}"
              = link_to 'Please Remove Account', class: 'delete-link', data: { id: "#{@customer.id}" }
            .form-group.checkbox.general-settings-checkbox
              %label.checkbox-label
                %input.checkbox-input{type: "checkbox", hidden: "true"}
                %span.checkbox-icon
                  %i.fa.fa-check
                %span.checkbox-text I understand that all data will be lost
    #address.tab-pane.fade{role: "tabpanel"}
      %form
        .hidden-xs.hidden-sm
          .row
            .col-md-5
              %h3.general-subtitle.mt-0 Billing Address
            .col-md-5.col-md-offset-1
              %h3.general-subtitle.mt-0 Shipping Address
    = link_to "Back", :back
